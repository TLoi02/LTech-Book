<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>OTP</title>
  <th:block th:replace="layout :: link-css"></th:block>
</head>
<body>
  <th:block th:replace="layout :: header"></th:block>
  <div class="container">
    <div class="row">
      <div class="job__title">
        <div class="job__title__name">
          Change Password
        </div>
      </div>
    </div>
    <div class="row" style="margin: 20px 0;">
      <form th:action="@{/forget-password/change-password/form}" method="post" class="forget__form" id="passwordForm">
        <input class="forget__form__password" type="password" id="newPassword" placeholder="New Password" autofocus required name="password">
        <input class="forget__form__confirm" type="password" id="confirmPassword" placeholder="Confirm Password" required>
        <span id="passwordError" style="color: red; margin-bottom: 10px;"></span>
        <button type="submit" id="submitButton" disabled>Change Password</button>
      </form>
    </div>
  </div>
  <th:block th:replace="layout :: footer"></th:block>
  <script>
        const newPasswordInput = document.getElementById('newPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const passwordError = document.getElementById('passwordError');
        const submitButton = document.getElementById('submitButton');

        confirmPasswordInput.addEventListener('input', () => {
            const newPassword = newPasswordInput.value;
            const confirmPassword = confirmPasswordInput.value;

            if (newPassword === confirmPassword) {
                passwordError.textContent = '';
                submitButton.disabled = false;
            } else {
                passwordError.textContent = 'Wrong Password';
                submitButton.disabled = true;
            }
        });
  </script>
</body>
</html>